- [Calculus](#calculus)
    - [1. 极限](#1-极限)
        - [1.1 极限的定义和限制](#11-极限的定义和限制)
        - [1.2 连续性](#12-连续性)
        - [1.3 极限计算方式](#13-极限计算方式)
    - [2. 微分](#2-微分)
        - [2.1 无穷小变量](#21-无穷小变量)
        - [2.2 特殊点](#22-特殊点)
        - [2.3 隐函数求微分](#23-隐函数求微分)
        - [2.4 微分中值定理](#24-微分中值定理)
        - [2.5 洛必达法则](#25-洛必达法则)
    - [3. 积分](#3-积分)
        - [3.1 积分性质](#31-积分性质)
        - [3.2 积分代换](#32-积分代换)
        - [3.3 分步积分](#33-分步积分)
        - [3.4 有理项积分](#34-有理项积分)
        - [3.5 常用积分表](#35-常用积分表)
        - [3.6 数值积分法](#36-数值积分法)
    - [4. 指数函数和三角函数](#4-指数函数和三角函数)
        - [4.1 指数运算](#41-指数运算)
        - [4.2 双曲函数](#42-双曲函数)
        - [4.3 函数微分](#43-函数微分)
        - [4.4 三角函数积分](#44-三角函数积分)
        - [4.5 用三角函数代换积分](#45-用三角函数代换积分)
    - [5. 无穷级数](#5-无穷级数)
    - [6. 积分应用](#6-积分应用)
        - [6.1 线积分](#61-线积分)
        - [6.2 面积分](#62-面积分)
        - [6.3 体积分](#63-体积分)
        - [6.4 质心](#64-质心)

# Calculus
### 1. 极限
##### 1.1 极限的定义和限制
- 对于任意$\epsilon$,存在$\delta$使得任意$|x-x_0|<\delta$内的点$|f(x)-y|<\epsilon$,则$\lim_{x\rightarrow x_0}f(x)=y$
- 极限只考虑毕竟某个点,因此<u>即使$x_0$不在定义域内,$\lim_{x\rightarrow a}$仍存在</u>,并且函数在无穷点也可以有极限
- 即使两个函数在$x_0$值不一样,他们在$x_0$的极限仍可以相等
##### 1.2 连续性
- 如果函数在某个点的<u>极限等于对应取值</u>,则函数在该点连续
- <u>连续函数复合/取反后的函数仍然连续</u>
- <u>连续性中值定理</u>: 如果$f(x)$在闭区间$[a,b]$内连续,则对于任意$f(a)\leq y\leq f(b)$,必然存在$a\leq x\leq b$,使得$f(x)=y$
##### 1.3 极限计算方式
- 有理函数的极限可以直接带入计算
- 两个函数的极限只要存在,就可以互相<u>加减乘除</u>
- 复合连续函数内部的极限函数可以取出,因此取反,取对数,开根号等都可以
- <u>夹逼定理</u>: 如果$f(x)\leq g(x)\le h(x)$,且$\lim_{x\rightarrow a}f(x)=\lim_{x\rightarrow a}h(x)=L$,则可以直接获得$\lim_{x\rightarrow a}g(x)=L$
### 2. 微分
##### 2.1 <u>无穷小变量</u>
- $dy=f'(x)dx$,代表$dy$变化量和$dx$的关系
- 高阶无穷小变量的乘积可以忽略,因为会被极限消掉
##### 2.2 特殊点
- 极值点(extreme point):可能存在<u>函数定义域的边界点或者任何导数为0的点(critical point)</u>
- 转折点(inflection point):二阶导为0的点
- <u>牛顿法迭代求连续函数$f(x)$最小值,如果无法收敛,则可以尝试更换初始点$x_0$</u>
$$x_{k+1}=x_k-\frac{f(x_k)}{f(x_k)'}$$
##### 2.3 隐函数求微分
- 对函数两边微分,再使用链式法则构造$\frac{dy}{dx}$,变量代还后可以通过(x,y)表示$\frac{dy}{dx}$
- 隐函数的导数和所有变量的值都有关系,而不仅仅是$x$
- <u>反函数的微分是原函数微分的倒数</u>
##### 2.4 <u>微分中值定理</u>
对于在$[a,b]$连续的函数$f(x)$和$g(x)$,则导数$f(x)'$和$g(x)'$有下列性质
1. 必有一点$x\in[a,b]$,使得$\frac{f(x)'}{g(x)'}=\frac{f(b)-f(a)}{g(b)-g(a)}$,即导数之比等于区间斜率之比
2. 1的特殊情况,令$g(x)=c$为常值函数,则有$f(x)'=f(b)-f(a)$,即导数等于区间斜率
3. 2的特殊情况,如果$f(a)=f(b)$,则存在点$g(x)=0$,即导数为0
##### 2.5 洛必达法则
- 如果两个函数在$x$点的极限是$\frac{0}{0}$或$\frac{\infty}{\infty}$不定型,则可以该比值等于这两个函数的导数在该点的极限,即
$$\lim_{x\rightarrow x_0}\frac{g(x)}{h(x)}=\lim_{x\rightarrow x_0}\frac{g'(x)}{h'(x)}$$
- <u>可以将乘积,对数,根号转化成不定型</u>,再用洛必达法则求极限
### 3. 积分
##### 3.1 积分性质
- 根据定义,积分是微分的逆运算,且微分函数值<u>由积分边界点$x$决定</u>
$$令g(x)=\int_a^xf(t)dt,则有g(x)'=f(x)$$
- 只有连续函数存在不定积分,如果分段函数<u>跳跃点有限,则定积分也可以存在</u>
- 中值定理的积分形式: 对于在$[a,b]$连续的函数$f(x)$,必有一点$x\in[a,b]$使得$f(x)(b-a)=\int_a^bf(t)dt$
##### 3.2 积分代换
- 使用链式法则对积分求微分,<u>直接把边界点上的$x$换成$u$即可</u>
$$\frac{dg}{dx}=\frac{du}{dx}\frac{dg}{du}=\frac{du}{dx}\frac{\int_a^uf(t)dt}{du}$$
- 当积分内存在某个乘积项刚好是某个变量$u=g(x)$对$x$的微分时,可以用$u$代换$x$化简积分运算
$$\int_a^bf[g(x)]g(x)'dx=\int_{g(a)}^{g(b)}f(u)du$$
##### 3.3 分步积分
- 基于乘法法则的逆运算,将乘积拆分成易于求积分项$v$和易于求微分项$u$
$$\int F(x)g(x)dx=[F(x)G(x)]-\int G(x)f(x)dx\rightarrow\int udv=uv-\int vdu$$
##### 3.4 有理项积分
1. 对分母进行因式分解,用长除法使得分子上的最高次幂小于等于分子
2. 如果分母没有重根,则可以将剩余分数项拆分成$\frac{A}{x-x_0}+\frac{B}{x-x_1}+\cdots$的形式,并通过回带解方程得到$A,B,\cdots$的值
3. 如果有重根,则需要保留重根的高次项,例如$\frac{A}{x-x_0}+\frac{B}{(x-x_0)^2}+\frac{C}{(x-x_0)^2}+\cdots$
4. 如果有虚根,就在分母保留$x^k$项,并在分子上添加$x$项,例如$\frac{Ax+B}{x^2+1}+\frac{Cx+D}{x^2+3}+\cdots$
5. 如果有重虚根,则结合3,4保留重虚根的高次项,例如$\frac{Ax+B}{x^2+1}+\frac{Cx+D}{(x^2+1)^2}$
6. 使用$\int\frac{dx}{x-a}=\ln|x-a|$和$\int\frac{dx}{x^2+a^2}=\frac{1}{a}\arctan\frac{x}{a}+C$对拆分项分别积分
##### 3.5 常用积分表
| $f(x)$        	| $a^x$               	| $\frac{1}{x^2+a^2}$             	| $\frac{1}{\sqrt{a^2-x^2}}$ 	| $\frac{1}{x^2-a^2}$                  	| $\frac{1}{\sqrt{x^2\pm a^2}}$	        |
|---------------	|---------------------	|---------------------------------	|----------------------------	|--------------------------------------	|--------------------------------	|
| $\int f(x)dx$ 	| $\frac{a^x}{\ln a}$ 	| $\frac{1}{a}\arctan\frac{x}{a}$ 	| $\arcsin\frac{x}{a}$       	| $\frac{1}{2a}\ln\|\frac{x-a}{x+a}\|$ 	| $\ln\|x+\sqrt{x^2+\pm a^2}\|$  	|
##### 3.6 数值积分法
把函数切分成$n$个区间,用$f(x)$在$[a,b]$里的$n$个子区间计算积分
- MidPoint Rule: 用每个区间中点值计算矩形面积计算积分,$\epsilon\leq|\frac{\max|f''(x)|(b-a)^2}{24n^2}|$
- Trapezoidal Rule: 用每个区间的起始点作梯形计算积分,$\epsilon\leq|\frac{\max|f''(x)|(b-a)^2}{12n^2}|$
- Simpson's Rule: 在任意相邻两个区间拟合二次函数做积分,本质上是前两种算法的相加$S_{2n}=\frac{1}{3}T_n+\frac{2}{3}M_n$,但是更准$\epsilon\leq|\frac{\max|f^4(x)|(b-a)^5}{180n^4}|$
### 4. 指数函数和三角函数
##### 4.1 指数运算
- 对数函数可以作为指数函数的反函数,也可以基于它的导数定义,因此可以用数值计算函数值
$$\ln x=\int_1^x\frac{1}{t}dt$$
- 自然常数$e$的3种定义,<u>通常在增长率和基数成比例的场合下出现</u>:
    - 令指数函数$f(x)=e^r$,则指数函数在$f'(0)=r$,导数始终和函数值$f(x)$成正比
    - $\lim_{x\rightarrow0}\frac{e^x-1}{x}=1$,即让$r=1$时,$f(x)'=1$
    - $e^r=\lim_{n\rightarrow\infty}(1+\frac{r}{n})^n=\lim_{n\rightarrow0}(1+nr)^{1/n}$: 代表将复利分割成无穷小连续后的结果
##### 4.2 双曲函数
- 双曲函数以$e^x$和$e^{-x}$为渐近线,$\cosh x=\frac{e^x+e^{-x}}{2},\sinh x=\frac{e^x-e^{-x}}{2}$
- $\cosh^2x-\sinh^2x=1$和三角函数对应,平方差为1
##### 4.3 函数微分
- 三角函数微分
  
    | $f(x)$ 	|  $\tan x$ 	|    $\csc x$   	|   $\sec x$   	|   $\cot x$  	|
    |:-----:	|:-------:	    |:-----------:	    |:----------:	|:---------:	|
    | $f'(x)$ 	| $\sec^2x$ 	| $-\csc x\cot x$ 	| $\sec x\tan x$ 	| $-\csc^2 x$ 	|
- 反三角函数微分
    
    |  $f(x)$ 	|        $\arcsin x$        	|        $\arccos x$        	|        $\arctan x$       	| $\csc^{-1} x$                 	| $\sec^{-1}x$               	| $\cot^{-1}x$      |
    |:-------:	|:------------------------:	    |:-------------------------:	|:------------------------:	|-----------------------------	    |---------------------------	|------------------	|
    | $f'(x)$ 	| $\frac{1}{\sqrt{1-x^2}}$ 	    | $-\frac{1}{\sqrt{1-x^2}}$ 	| $\frac{1}{\sqrt{1+x^2}}$ 	| $-\frac{1}{x\sqrt{-x^2-1}}$ 	    | $\frac{1}{x\sqrt{x^2-1}}$ 	| $-\frac{1}{1+x^2}$|
- 指数函数微分
  
    |  $f(x)$ 	|   $\ln\|x\|$  	|    $a^x$   	|     $\log_a x$     	|
    |:-------:	|:-------------:	|:----------:	|:------------------:	|
    | $f'(x)$ 	| $\frac{1}{2}$ 	| $a^x\ln a$ 	| $\frac{1}{x\ln a}$ 	|
##### 4.4 三角函数积分
- $\int\sin^mx\cos^nxdx$积分技巧
  1. 至少把$\sin$和$\cos$中的一项的指数通过倍角公式降成奇数次
  2. 找到$\sin$和$\cos$中的奇数次方项,提出奇数项和$dx$放在一起作为$du$
  3. 把提完的$\sin$或者$\cos$用$u$替换
  4. 直接对$u$进行积分
- $\int\tan^mx\sec^nxdx$积分技巧
   - 如果$n$是偶数,则令$u=\tan x,du=\sec^2xdx$,把剩下的$\sec^2x$用$1+u^2$代换
   - 如果$n$是奇数,则令$u=\sec x,du=\sec x\tan x$,把剩下的$\tan^2x$用$u^2-1$代换
- 三角函数积分表
  
    | $f(x)$        	| $\sec^2x$ 	| $\csc^2x$ 	| $\sec x\tan x$ 	| $\csc x\cot x$ 	| $\sec x$             	| $\csc x$               	| $\tan x$        	| $\cot x$        	| $\sinh x$ 	| $\cosh x$ 	|
    |---------------	|-----------	|-----------	|----------------	|----------------	|----------------------	|------------------------	|-----------------	|-----------------	|-----------	|-----------	|
    | $\int f(x)dx$ 	| $\tan x$  	| $-\cot x$ 	| $\sec x$       	| $-\csc x$      	| $\ln\|\sec x+\tan x|$ 	| $\ln\|\csc x-\cot x\|$ 	| $\ln\|\sec x\|$ 	| $\ln\|\sin x\|$ 	| $\cosh x$ 	| $\sinh x$ 	|
##### 4.5 用三角函数代换积分
- 当看到$x$在平方根里时,可以把$x$转化成三角函数代换

    | $f(x)$ 	|    $\sqrt{a^2-x^2}$   	|     $\sqrt{a^2+x^2}$    	|     $\sqrt{x^2-a^2}$    	|
    |:------:	|:---------------------:	|:-----------------------:	|:-----------------------:	|
    |   $x$  	|     $a\sin\theta$     	|      $a\tan\theta$      	|      $a\sec\theta$      	|
    |  $dx$  	| $a\cos\theta d\theta$ 	| $a\sec^2\theta d\theta$ 	| $a\sec\theta\tan\theta$ 	|

### 5. 无穷级数
- 泰勒展开: 函数在$x$点的值可以通过无穷项在其他点$x_0$的导数和差值乘积之和计算
$$f(x)=\sum_{k=0}^\infty\frac{f^k(x_0)(x-x_0)^k}{k!}+o(x-x_0)$$ 
### 6. 积分应用
##### 6.1 线积分
- 将线分割成无数个小三角形的斜边,$x$和$y$分别是直角边
$$L=\int_a^b\sqrt{1+[f'(x)]^2}dx$$
##### 6.2 面积分
- 旋转体的面积分,将表面积分割为若干个小圆筒,圆筒的半径为$f(x)$,高度是$dr$即弧长
$$S=\int_a^b2\pi f(x)dr=\int_a^bf(x)\sqrt{1+[f'(x)]^2}dx$$
- 化简到斜边长为$l$的圆锥/椎体则有
$$S=\int_a^b\pi(r_1+r_2)l$$
##### 6.3 体积分
- 套管体积分: 从内向外一圈一圈积 $V=\int_a^b2\pi xf(x)dx$
##### 6.4 质心
1. 质心是以质量分布为权重对位置求积分,可以在不同维度分别计算质心
2. 令$f(x)$为物体在$y$轴上的厚度,则该部分的质量为$\rho f(x)dx$,可以得到在$x$轴上的质心
$$M_x=\frac{\rho\int xf(x)dx}{\rho\int f(x)dx}$$
3. Theorem of Pappus: 薄片围绕转动轴转一圈围成的体积等于薄片面积乘以质心转一圈后围成的弧长
   

