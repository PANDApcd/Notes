# 资产配置模型

### 1. 马克维茨投资组合

#### 1.1 无风险资产和风险资产配置

​	通过历史数据可知:

- 风险资产收益 $\mathbb{E}(r)$,风险为$\sigma$
- 无风险资产收益为$r_f$

根据不同的配比,总收益 $\mathbb{E}=w\mathbb{E}(r)+(1-w)r_f$,风险为$w\sigma$

**根据不同的$w$,画出 $\mathbb{E} \text{ vs. }w\sigma$的图**(用横坐标反向回代)

<img src="C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20210421131634217.png" alt="image-20210421131634217" style="zoom:50%;" />

根据投资人的风险偏好(**没有最优点**),在直线上选取一个点,并根据横坐标的比例设定$w$

#### 1.2 风险资产配置(股票间配置)

- 根据不同风险资产间的收益率的相关系数 $\rho$,可以画出 $\mathbb{E} \text{ vs. }w\sigma$

<img src="C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20210421132746875.png" alt="image-20210421132746875" style="zoom:67%;" />

- 根据相关系数作图,作切线找到斜率最大点

#### 1.3 缺陷

- 对于输入参数过于敏感(如$r_f$)

- 对历史样本区间非常敏感,不同区间里$\rho$不同

  ​                                      

### 2. BL模型

#### 2.1 主观观点

- 观点矩阵$P^{\mathbb{K\times N}}$,表示对$N$个公司,有$K$个观点$N$ (每一个观点正向和反向和为0或1)
- 投资者认为自己观点占先验分布的比重$\tau$(可以取0.01~0.1)

- 看法向量$q^{\mathbb{K\times1}}$,表示每个观点的具体数值

例如

   	对5个资产有3个观点:
   	
   	- A的收益率为15%
   	- B的收益率比D高5%
   	- B和C的收益率比A低%6

$$
P=\left[\begin{array}1 
   1 & 0 &0&0&0\\
   0&1&0&-1&0\\
   1&-1/2&-1/2&0&0
   \end{array}\right]
$$

$$
q=[15\%,5\%,6\%]^T
$$

#### 2.2 计算历史期望收益

- 使用历史收益率计算 $\pi=\mu^{N\times 1}$
- 使用市场价格和组合计算 $\pi=\lambda\hat{\Sigma}\omega^m$
  - $\lambda^{N\times1}=\frac{\mathbb{E}[R_m]-R_f}{\sigma_m^2}$ :市场超额收益除以方差
  - $\hat{\Sigma}^{N\times\N}$ : N个资产的协方差

#### 2.3 结合实际市场信息计算期望

1. 看法置信度矩阵(需要观点和历史协方差)
$$
\Omega^{K\times K}=diag(P(\tau\hat{\Sigma})P^T)
$$

​		表示**观点和实际情况的差**

2. 计算结果
   $$
   \mu_{BL}=[(\tau\Sigma)^{-1}+P^T\Omega^{-1}P]^{-1}[(\tau\Sigma)^{-1}\pi+P^T\Omega^{-1}q]
   \\
   \Sigma^{\mu}_{BL}=[(\tau\Sigma)^{-1}+P^T\Omega^{-1}P]^{-1}
   $$
   

3. 用计算得出的$\mu_{BL}$和$\Sigma_{BL}$代入马科维兹模型计算资产配置