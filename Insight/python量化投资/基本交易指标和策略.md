# 基本交易指标和策略

### 1. 配对交易

**适合单边的市场中性策略**

根据不同标的间的价差交易,需要标的间具有较强的相关性

- 标准化后的价差大于2倍标准差,即偏离平均值。
- 寻找配对股票
  - 行业内
  - 产业链上下
  - 基本面
- 最小距离法
  - 用收益率的累乘作为价格(可以先把价格转化为对数)
  - 寻找收益率SSD最小的一组标的 $\arg \min_{x, y} \sum_{t=1}^244(p_t^x-p_t^y)^2$



### 2. K线图量化

- 十字星 说明反转
- 锤子线(吊顶线)
- 早晨和黄昏之星
  - 第三根线长度大于第一根一半
  - 十字星实体要在另外两根实体之外
- 乌云盖顶和抱线(反转指标)
  - 开盘比前一天更高
  - 收盘反包或者几乎反包



### 3. 动量交易

#### 3.1 计算方式

- 时间序列做差 $P_t-P_{t-m}$
- 价格变化率ROC  $\frac{P_t-P_{t-m}}{P_{t-m}}$

#### 3.2 回测方式

- 出信号时signal = 1/-1
- 收益率 * signal加权



### 4. 相对强弱指标

#### 4.1 RSI强弱指标

判断标的买卖力量强弱
$$
RSI=100\times\frac{UP}{UP+DOWN}\in[0,100]
$$
$UP$是区间内上涨总额的平均值

$DOWN$是区间内下跌的平均值

```python
up = sum(price_dif[price_dif>0]) / len(price_dif) # 除以总交易日个数
down = sum(price_dif[price_dif<0]) / len(price_dif)
```

**25,75 是RSI的超买，超卖线**



#### 4.2 未成熟随机指标

通常用9日/周/月的收盘/最高/最低价
$$
RSV=\frac{close_n-min_n}{max_n-min_n}\times 100\in[0, 100]
$$
波动范围很大,例如不断突破或者不断下探的话, $RSV$的值永远是100/0



#### 4.3 KDJ随机强弱指标

通常用9日/周/月

同样可以用金叉死叉和25/75标准

- $K_t=\frac{2}{3}K_{t-1}+\frac{1}{3}RSV_t$ 
  - K值相当于RSV的ema
- $D_t=\frac{2}{3}D_{t-1}+\frac{1}{3}K_t$
  - D值相当于K的ema (**起平滑RSA的作用**)

- $J_t=3\times K_t-2\times D_t=\frac{7}{3}K_t-\frac{2}{3}D_{t-1}=\frac{7}{9}RSV_t+\frac{14}{9}K_{t-1}-\frac{2}{3}D_{t-1}=\frac{(7*RSV_4+5*RSV_3+3*RSV_2-4*RSV_1-2*RSV_0)}{9}$
  - J的范围更大
  - 大于100可以作为超买,小于0作为超卖,**相比KD更加可靠**



### 5. 通道

- 唐奇安通道
  - 上界: 过去x日最高价
  - 下界: 过去x日最低价
  - 中轨: (上届+下界)/2
- 布林带通道
  - 中轨: 过去x日均值
  - 上届: 中轨+2*标准差
  - 下界: 中轨-2*标准差



### 6. 量价

- OBV上涨量能的累计均值 $OBV_n=OBV_{i-1}\pm V_n$
- 移动OBV $\text{sm}OBV=\frac{\sum_{i=0}^9 OBV_i}{9}$
- 考虑多空头力量的$VA_n=VA_{n-1}+V_n\frac{(Close-Low)-(High-Close)}{High-Low}$
  - close-low反应多头力量强度
  - high-close反应空头力量强度
  - high-low用来normalize
- OBV下降通常说明股价表现不好





 

