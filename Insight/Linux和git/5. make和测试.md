# 5. make和测试

### 5.1 makefile

make会在目录下找makefile,可以用来build各种库

例如需要先构造png再构造latex pdf

```makefile
paper.pdf: paper.tex plot-data.png # 构造目标paper.pdf,需要tex和png(dependency)
		pdflatex paper.tex # 构造指令,pdflatex paper.tex
		echo hello # 可以有附加指令.前面的缩进必须是tab
		
plot-%.png: %.dat plot.py # 构造plot-data.png的方式
		./plot.py -i $*.dat -o $@ # $*代表%匹配的dat名(data.dat), $@对应输出名(plot-data.png)
```



### 5.2 Cmake



### 5.3 测试

- unit test: 对于每个部分单独进行测试
- integration test: 结合所有部分一起测试
- regression test: 将每次遇到的bug加入到测试,regression test内容会不断变多
- 构造mock data

